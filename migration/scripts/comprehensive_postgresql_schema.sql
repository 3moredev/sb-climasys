
-- =====================================================
-- Comprehensive Climasys PostgreSQL Schema
-- Generated by comprehensive_migration_framework.py
-- =====================================================

CREATE SCHEMA IF NOT EXISTS climasys_dev;
SET search_path TO climasys_dev, public;


-- Table: clinic_master
CREATE TABLE IF NOT EXISTS climasys_dev.clinic_master (
    doctor_id VARCHAR(255),    clinic_id VARCHAR(255),    clinic_name VARCHAR(255),    clinic_address VARCHAR(255),    country_id VARCHAR(255),    state_id VARCHAR(255),    city_id VARCHAR(255),    area_id INTEGER,    pincode INTEGER,    tips VARCHAR(255),    news VARCHAR(255),    phone_no VARCHAR(255),    fax_no VARCHAR(255),    created_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    createdby_name VARCHAR(255),    modified_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    modifiedby_name VARCHAR(255),    is_print INTEGER
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_clinic_master_id ON climasys_dev.clinic_master(id);


-- Table: doctor_clinic_shift
CREATE TABLE IF NOT EXISTS climasys_dev.doctor_clinic_shift (
    doctor_id VARCHAR(255),    clinic_id VARCHAR(255),    shift_id INTEGER
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_doctor_clinic_shift_id ON climasys_dev.doctor_clinic_shift(id);


-- Table: doctor_master
CREATE TABLE IF NOT EXISTS climasys_dev.doctor_master (
    doctor_id VARCHAR(255),    prefix VARCHAR(255),    first_name VARCHAR(255),    middle_name VARCHAR(255),    last_name VARCHAR(255),    doctor_photo VARCHAR(255),    registration_no VARCHAR(255),    speciality VARCHAR(255),    residential_no VARCHAR(255),    practising_year INTEGER,    mobile_1 INTEGER,    mobile_2 INTEGER,    emergency_number VARCHAR(255),    wapp_no VARCHAR(255),    emailid VARCHAR(255),    doctor_qual VARCHAR(255),    residential_add1 VARCHAR(255),    residential_add2 VARCHAR(255),    country_id VARCHAR(255),    state_id VARCHAR(255),    city_id VARCHAR(255),    area_id INTEGER,    profile_image VARCHAR(255),    created_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    createdby_name VARCHAR(255),    modified_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    modifiedby_name VARCHAR(255),    base_location VARCHAR(255),    ipd_dr INTEGER,    opd_dr INTEGER
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_doctor_master_id ON climasys_dev.doctor_master(id);


-- Table: doctor_model
CREATE TABLE IF NOT EXISTS climasys_dev.doctor_model (
    doctor_id VARCHAR(255),    clinic_id VARCHAR(255),    model_id INTEGER
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_doctor_model_id ON climasys_dev.doctor_model(id);


-- Table: gender_master
CREATE TABLE IF NOT EXISTS climasys_dev.gender_master (
    id SERIAL PRIMARY KEY
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_gender_master_id ON climasys_dev.gender_master(id);


-- Table: language_master
CREATE TABLE IF NOT EXISTS climasys_dev.language_master (
    language_id INTEGER,    language_name VARCHAR(255),    is_default INTEGER
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_language_master_id ON climasys_dev.language_master(id);


-- Table: license_key
CREATE TABLE IF NOT EXISTS climasys_dev.license_key (
    doctor_id VARCHAR(255),    clinic_id VARCHAR(255),    installation_date VARCHAR(255),    last_renewal_date VARCHAR(255),    license_validity INTEGER,    valid_from VARCHAR(255),    valid_to VARCHAR(255),    verno VARCHAR(255),    license_key VARCHAR(255),    start_verification INTEGER
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_license_key_id ON climasys_dev.license_key(id);


-- Table: model
CREATE TABLE IF NOT EXISTS climasys_dev.model (
    model_id INTEGER,    model_number INTEGER,    model_description VARCHAR(255)
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_model_id ON climasys_dev.model(id);


-- Table: model_config_params
CREATE TABLE IF NOT EXISTS climasys_dev.model_config_params (
    model_id INTEGER,    config_id INTEGER,    is_enabled INTEGER
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_model_config_params_id ON climasys_dev.model_config_params(id);


-- Table: patient_master
CREATE TABLE IF NOT EXISTS climasys_dev.patient_master (
    id SERIAL PRIMARY KEY,    doctor_id VARCHAR(255),    folder_no VARCHAR(255),    first_name VARCHAR(255),    middle_name VARCHAR(255),    last_name VARCHAR(255),    reports_received VARCHAR(255),    email_id VARCHAR(255),    gender_id VARCHAR(255),    address_1 VARCHAR(255),    address_2 VARCHAR(255),    country_id VARCHAR(255),    state_id VARCHAR(255),    city_id VARCHAR(255),    area_id INTEGER,    pincode VARCHAR(255),    date_of_birth VARCHAR(255),    age_given INTEGER,    weight_in_kgs VARCHAR(255),    height_in_cms VARCHAR(255),    occupation_id NUMERIC,    bloodgroup_id VARCHAR(255),    residential_no VARCHAR(255),    mobile_1 INTEGER,    mobile_2 VARCHAR(255),    emergency_number VARCHAR(255),    emergency_name VARCHAR(255),    patient_last_visit_no INTEGER,    date_of_registration VARCHAR(255),    manual_registration_year VARCHAR(255),    registration_status VARCHAR(255),    folder_path VARCHAR(255),    created_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    createdby_name VARCHAR(255),    modified_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    modifiedby_name VARCHAR(255),    refer_id VARCHAR(255),    refer_doctor_details VARCHAR(255),    marital_status_id VARCHAR(255),    doctor_address VARCHAR(255),    doctor_mobile VARCHAR(255),    doctor_email VARCHAR(255),    clinic_id VARCHAR(255)
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_patient_master_id ON climasys_dev.patient_master(id);


-- Table: patient_visits
CREATE TABLE IF NOT EXISTS climasys_dev.patient_visits (
    doctor_id VARCHAR(255),    clinic_id VARCHAR(255),    shift_id INTEGER,    patient_id VARCHAR(255),    patient_visit_no INTEGER,    visit_date VARCHAR(255),    folder_no VARCHAR(255),    visit_time VARCHAR(255),    financial_year INTEGER,    status_id INTEGER,    weight_in_kgs NUMERIC,    reports_asked VARCHAR(255),    reports_received INTEGER,    asthama INTEGER,    tuberculosis INTEGER,    hypertension INTEGER,    diabetes INTEGER,    cholestrol INTEGER,    allergy_dtls VARCHAR(255),    habits_comments VARCHAR(255),    tobaco INTEGER,    smoking INTEGER,    alchohol INTEGER,    ihd INTEGER,    th INTEGER,    height_in_cms NUMERIC,    pulse NUMERIC,    blood_pressure VARCHAR(255),    fees_to_collect NUMERIC,    fees_collected NUMERIC,    instructions VARCHAR(255),    appointment_sr_no VARCHAR(255),    patient_last_visit_no INTEGER,    on_call_status INTEGER,    created_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    createdby_name VARCHAR(255),    modified_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    modifiedby_name VARCHAR(255),    delete_flag INTEGER,    comment VARCHAR(255),    observation VARCHAR(255),    in_person INTEGER,    original_billed_amount NUMERIC,    sugar VARCHAR(255),    thtext VARCHAR(255),    offline_reason VARCHAR(255),    offline_flag INTEGER,    symptom_comment VARCHAR(255),    impression VARCHAR(255),    payment_by_id NUMERIC,    attended_by VARCHAR(255),    payment_remark VARCHAR(255),    attended_by_id NUMERIC,    follow_up VARCHAR(255),    receipt_number VARCHAR(255),    is_follow_up INTEGER,    current_medicines VARCHAR(255),    visit_comments VARCHAR(255),    current_complaints VARCHAR(255),    is_submit_patient_visit_details VARCHAR(255),    is_submit_patient_labtest VARCHAR(255),    receipt_type VARCHAR(255),    tpr VARCHAR(255),    important_findings VARCHAR(255),    additional_comments VARCHAR(255),    systemic VARCHAR(255),    odeama VARCHAR(255),    pallor VARCHAR(255),    is_submit_gynec_details INTEGER,    gc VARCHAR(255),    fmp VARCHAR(255),    prmc VARCHAR(255),    pamc VARCHAR(255),    lmp VARCHAR(255),    obstetrics_history VARCHAR(255),    surgical_history_past_history VARCHAR(255),    gynec_additional_comments VARCHAR(255),    pregnant INTEGER,    edd VARCHAR(255),    follow_up_type NUMERIC,    follow_up_date VARCHAR(255),    addendum VARCHAR(255),    from_time VARCHAR(255),    follow_up_comment VARCHAR(255),    treatment_comment VARCHAR(255),    treatment_plan VARCHAR(255),    doctor_notes VARCHAR(255),    plan VARCHAR(255),    notes VARCHAR(255),    followup_after NUMERIC,    schedule VARCHAR(255),    additional_instructions VARCHAR(255),    impression_finding VARCHAR(255),    discount NUMERIC,    original_discount NUMERIC,    complaints_by_patient_per_visit VARCHAR(255),    cat_id VARCHAR(255),    online_appointment_time VARCHAR(255),    refer_id VARCHAR(255),    refer_doctor_details VARCHAR(255),    doctor_address VARCHAR(255),    doctor_mobile NUMERIC,    doctor_email VARCHAR(255)
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_patient_visits_id ON climasys_dev.patient_visits(id);


-- Table: role_master
CREATE TABLE IF NOT EXISTS climasys_dev.role_master (
    role_id INTEGER,    role_name VARCHAR(255),    created_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    createdby_name VARCHAR(255),    modified_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    modifiedby_name VARCHAR(255)
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_role_master_id ON climasys_dev.role_master(id);


-- Table: shift_master
CREATE TABLE IF NOT EXISTS climasys_dev.shift_master (
    shift_id INTEGER,    description VARCHAR(255),    shift_day VARCHAR(255),    start_time VARCHAR(255),    end_time VARCHAR(255),    created_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    createdby_name VARCHAR(255),    modified_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    modifiedby_name VARCHAR(255)
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_shift_master_id ON climasys_dev.shift_master(id);


-- Table: system_params
CREATE TABLE IF NOT EXISTS climasys_dev.system_params (
    doctor_id VARCHAR(255),    default_fees NUMERIC,    compounder_overwrite INTEGER,    default_clinic_id VARCHAR(255),    default_prescription_count INTEGER,    default_autorefresh_timer INTEGER,    previous_pharama_companyvisits VARCHAR(255),    previous_visits_mr VARCHAR(255),    reminder_attachements_allowed VARCHAR(255),    medicines_by_mr VARCHAR(255),    show_diseases INTEGER,    show_dressings INTEGER,    show_medicines INTEGER,    show_mr INTEGER,    show_procedure INTEGER,    show_daily_collection INTEGER,    treatment_details VARCHAR(255),    type_of_service VARCHAR(255),    show_patient_visit_details INTEGER,    comprehensive_billing INTEGER,    show_treatmentplan_details INTEGER,    show_ipd INTEGER,    show_gynec INTEGER,    clinic_id VARCHAR(255),    show_financials INTEGER,    print_diagnosis_on_prescription INTEGER,    copy_visit INTEGER,    balance INTEGER,    audio_allergy INTEGER,    is_main_doctor INTEGER,    show_complaint INTEGER,    logo_files VARCHAR(255),    print_receipt_header INTEGER,    print_prescription_header INTEGER,    print_ops_label INTEGER,    print_discount_on_hospital_bill INTEGER,    print_advice_label INTEGER,    print_generic_name INTEGER,    capture_followup_text INTEGER,    copy_prescription INTEGER,    print_vitals INTEGER,    print_complaints_on_prescriptipon INTEGER,    print_examination_on_prescriptipon INTEGER,    footer_for_discharge_card TEXT,    print_discharge_card_header INTEGER,    show_services INTEGER,    default_prescription_category INTEGER
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_system_params_id ON climasys_dev.system_params(id);


-- Table: user_master
CREATE TABLE IF NOT EXISTS climasys_dev.user_master (
    id SERIAL PRIMARY KEY,    doctor_id VARCHAR(255),    is_active INTEGER,    login_id VARCHAR(255),    password VARCHAR(255),    first_name VARCHAR(255),    middle_name VARCHAR(255),    last_name VARCHAR(255),    residential_add1 VARCHAR(255),    residential_add2 VARCHAR(255),    country_id VARCHAR(255),    state_id VARCHAR(255),    city_id VARCHAR(255),    area_id INTEGER,    pin_code INTEGER,    phone_no INTEGER,    mobile_no INTEGER,    email VARCHAR(255),    language_id INTEGER,    user_photo VARCHAR(255),    created_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    createdby_name VARCHAR(255),    modified_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    modifiedby_name VARCHAR(255),    clinic_id VARCHAR(255),    base_location VARCHAR(255),    default_doctor VARCHAR(255),    default_doctors_department VARCHAR(255),    show_daily_collection INTEGER,    backupdrive VARCHAR(255)
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_user_master_id ON climasys_dev.user_master(id);


-- Table: user_role
CREATE TABLE IF NOT EXISTS climasys_dev.user_role (
    doctor_id VARCHAR(255),    clinic_id VARCHAR(255),    user_id INTEGER,    role_id INTEGER,    is_default_clinic INTEGER,    created_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    createdby_name VARCHAR(255),    modified_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    modifiedby_name VARCHAR(255)
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_user_role_id ON climasys_dev.user_role(id);


-- Table: visit_prescription_overwrite
CREATE TABLE IF NOT EXISTS climasys_dev.visit_prescription_overwrite (
    doctor_id VARCHAR(255),    clinic_id VARCHAR(255),    shift_id INTEGER,    patient_id VARCHAR(255),    patient_visit_no INTEGER,    visit_date VARCHAR(255),    brand_name VARCHAR(255),    medicine_name VARCHAR(255),    catsub_description VARCHAR(255),    cat_short_name VARCHAR(255),    marketed_by VARCHAR(255),    morning NUMERIC,    afternoon NUMERIC,    night NUMERIC,    no_of_days INTEGER,    instruction VARCHAR(255),    created_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    createdby_name VARCHAR(255),    modified_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    modifiedby_name VARCHAR(255),    delete_indicator INTEGER,    delete_flag INTEGER,    sequence_id INTEGER
);

-- Add indexes for common columns
CREATE INDEX IF NOT EXISTS idx_visit_prescription_overwrite_id ON climasys_dev.visit_prescription_overwrite(id);

